<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Г. Мороз" />


<title>1.1 Работа со строками и регулярки</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<link href="site_libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="site_libs/str_view-binding-1.2.0/str_view.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}

.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="1_strings.html">1.1 Строки</a>
</li>
<li>
  <a href="2_distance.html">1.2 Расстояния</a>
</li>
<li>
  <a href="3_frequency.html">2.1 Частотность</a>
</li>
<li>
  <a href="4_n_gramm.html">2.2 n-граммы</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">1.1 Работа со строками и регулярки</h1>
<h4 class="author"><em>Г. Мороз</em></h4>
<h4 class="date"><em>25 июля 2017, АНДАН</em></h4>

</div>


<style>
.parallax {
    /* The image used */
    background-image: url("1_strings.jpg");

    /* Set a specific height */
    min-height: 300px; 

    /* Create the parallax scrolling effect */
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: auto;
}
</style>
<div class="parallax">

</div>
<div id="--1" class="section level3">
<h3>1. Как получить строку?<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></h3>
<ul>
<li>следите за кавычками</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;the quick brown fox jumps over the lazy dog&quot;</span></code></pre></div>
<pre><code>## [1] &quot;the quick brown fox jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&#39;the quick brown fox jumps over the lazy dog&#39;</span></code></pre></div>
<pre><code>## [1] &quot;the quick brown fox jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;the quick &#39;brown&#39; fox jumps over the lazy dog&quot;</span></code></pre></div>
<pre><code>## [1] &quot;the quick &#39;brown&#39; fox jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&#39;the quick &quot;brown&quot; fox jumps over the lazy dog&#39;</span></code></pre></div>
<pre><code>## [1] &quot;the quick \&quot;brown\&quot; fox jumps over the lazy dog&quot;</code></pre>
<ul>
<li>пустая строка</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;&quot;</span></code></pre></div>
<pre><code>## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&#39;&#39;</span></code></pre></div>
<pre><code>## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">character</span>(<span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<ul>
<li>преобразование</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(<span class="dv">4</span>:<span class="dv">7</span>)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.character</span>(<span class="dv">4</span>:<span class="dv">7</span>)</code></pre></div>
<pre><code>## [1] &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot;</code></pre>
<ul>
<li>встроенные векторы</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">letters</code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;
## [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LETTERS</code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;
## [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">month.name</code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;      
##  [6] &quot;June&quot;      &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;  
## [11] &quot;November&quot;  &quot;December&quot;</code></pre>
<ul>
<li>пользовательские данные</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw">data.frame</span>(letters[<span class="dv">6</span>:<span class="dv">10</span>], LETTERS[<span class="dv">4</span>:<span class="dv">8</span>]))</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ letters.6.10.: Factor w/ 5 levels &quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,..: 1 2 3 4 5
##  $ LETTERS.4.8. : Factor w/ 5 levels &quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,..: 1 2 3 4 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw">data.frame</span>(letters[<span class="dv">6</span>:<span class="dv">10</span>], LETTERS[<span class="dv">4</span>:<span class="dv">8</span>], <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>))</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ letters.6.10.: chr  &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; ...
##  $ LETTERS.4.8. : chr  &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; ...</code></pre>
<ul>
<li><code>stringi</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
stringi::<span class="kw">stri_rand_strings</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">length =</span> <span class="dv">5</span>:<span class="dv">14</span>)</code></pre></div>
<pre><code>##  [1] &quot;uwHpd&quot;          &quot;Wj8ehS&quot;         &quot;ivFSwy7&quot;        &quot;TYu8zw5V&quot;      
##  [5] &quot;OuRpjoOg0&quot;      &quot;p0CubNR2yQ&quot;     &quot;xtdycKLOm2k&quot;    &quot;fAGVfylZqBGp&quot;  
##  [9] &quot;gE28DTCi0NV0a&quot;  &quot;9MemYE55If0Cvv&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringi::<span class="kw">stri_rand_shuffle</span>(<span class="st">&quot;любя, съешь щипцы, — вздохнёт мэр, — кайф жгуч&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;вцд тэшс,г яло, х ми—паюызф ркнжьеу б—ъйёщ,  ч&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringi::<span class="kw">stri_rand_shuffle</span>(month.name[<span class="dv">1</span>:<span class="dv">8</span>]) <span class="co"># на больших векторах глючит</span></code></pre></div>
<pre><code>## [1] &quot;Jaurnay&quot;  &quot;byFarrue&quot; &quot;chMar&quot;    &quot;iAlrp&quot;    &quot;rMy&quot;      &quot;pJue&quot;    
## [7] &quot;rJuy&quot;     &quot;uAugut&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringi::<span class="kw">stri_rand_lipsum</span>(<span class="dt">nparagraphs =</span> <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] &quot;Lorem ipsum dolor sit amet, pellentesque sit in vitae ligula nec pellentesque sed hac curabitur. Ut semper lectus justo ut suspendisse ut, at faucibus dolor nec non. Neque senectus donec sit nunc urna sed. Ultricies ac pharetra orci luctus iaculis ac tincidunt cum neque. Eu semper at sociosqu hendrerit eu aliquet lacus eu, hendrerit, donec aliquam. Eros risus, nibh quam in. Sit facilisi ipsum amet sem. Sed donec sed molestie scelerisque. Tincidunt nisl donec et. Facilisis interdum non sed dolor purus in ipsum.&quot;                                                                                                                                                                                                                                                                                                                         
## [2] &quot;Dignissim torquent velit nec aliquam pellentesque, ac adipiscing neque et. At torquent vestibulum ullamcorper ad dictumst enim velit non, nulla felis habitant. Egestas placerat consectetur, dictum nostra sed nec erat phasellus dolor libero. Aliquam viverra vestibulum leo et. Suscipit, egestas in in montes sapien gravida conubia purus varius, ut nec feugiat risus. Eleifend magnis, neque diam suspendisse ullamcorper. Nulla adipiscing malesuada massa nisi sociosqu velit id. Et aliquam facilisis et, aenean parturient vel. Ac in convallis massa diam nibh, nulla interdum. Cursus et natoque, amet, ut praesent tortor ultrices a. Consectetur, augue natoque class faucibus ut sed arcu. Elementum magna dignissim ac facilisi quis ut nisl. Eu massa vitae consectetur non non quis, mollis. Justo in ac dolor adipiscing mattis tempus.&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="-" class="section level3">
<h3>2. Экранирование метасимволов</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">$&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\$&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">*&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\*&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">+&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\+&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">?&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\?&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">|&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\|&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">^&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\^&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">[&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\[&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">]&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\]&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">{&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\{&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">}&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\}&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\</span><span class="st">)&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\)&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span></code></pre></div>
<pre><code>## [1] &quot;\\\\&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="--" class="section level3">
<h3>3. Операции со строками</h3>
<ul>
<li>изменение регистра</li>
<li>подсчет количества символов в строке</li>
<li>сортировка строк</li>
<li>соединение строк</li>
<li>поиск вектора по подстроке</li>
<li>разделение вектора по подстроке</li>
<li>выделение подстроки по номеру</li>
</ul>
base R vs. <code>stringr</code>, <code>stringi</code>…
<div class="parallax">

</div>
<div id="-" class="section level4">
<h4>3.1 Изменение регистра</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">latin &lt;-<span class="st"> &quot;tHe QuIcK BrOwN fOx JuMpS OvEr ThE lAzY dOg&quot;</span>
<span class="kw">tolower</span>(latin)</code></pre></div>
<pre><code>## [1] &quot;the quick brown fox jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">toupper</span>(latin)</code></pre></div>
<pre><code>## [1] &quot;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cyrillic &lt;-<span class="st"> &quot;лЮбЯ, сЪеШь ЩиПцЫ, — вЗдОхНёТ мЭр, — кАйФ жГуЧ&quot;</span>
<span class="kw">tolower</span>(cyrillic)</code></pre></div>
<pre><code>## [1] &quot;любя, съешь щипцы, — вздохнёт мэр, — кайф жгуч&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">toupper</span>(cyrillic)</code></pre></div>
<pre><code>## [1] &quot;ЛЮБЯ, СЪЕШЬ ЩИПЦЫ, — ВЗДОХНЁТ МЭР, — КАЙФ ЖГУЧ&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_to_upper</span>(latin)</code></pre></div>
<pre><code>## [1] &quot;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_to_lower</span>(cyrillic)</code></pre></div>
<pre><code>## [1] &quot;любя, съешь щипцы, — вздохнёт мэр, — кайф жгуч&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_to_title</span>(latin)</code></pre></div>
<pre><code>## [1] &quot;The Quick Brown Fox Jumps Over The Lazy Dog&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="--" class="section level4">
<h4>3.2 Подсчет количества символов</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nchar</span>(latin)</code></pre></div>
<pre><code>## [1] 43</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nchar</span>(month.name)</code></pre></div>
<pre><code>##  [1] 7 8 5 5 3 4 4 6 9 7 8 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nchar</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] NA  0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_length</span>(latin)</code></pre></div>
<pre><code>## [1] 43</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_length</span>(month.name)</code></pre></div>
<pre><code>##  [1] 7 8 5 5 3 4 4 6 9 7 8 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_length</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] NA  0</code></pre>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>3.3 Сортировка</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">unsorted_latin &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;I&quot;</span>, <span class="st">&quot;♥&quot;</span>, <span class="st">&quot;N&quot;</span>, <span class="st">&quot;Y&quot;</span>)
<span class="kw">sort</span>(unsorted_latin)</code></pre></div>
<pre><code>## [1] &quot;♥&quot; &quot;I&quot; &quot;N&quot; &quot;Y&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_sort</span>(unsorted_latin)</code></pre></div>
<pre><code>## [1] &quot;♥&quot; &quot;I&quot; &quot;N&quot; &quot;Y&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_sort</span>(unsorted_latin, <span class="dt">locale =</span> <span class="st">&quot;lt&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;♥&quot; &quot;I&quot; &quot;Y&quot; &quot;N&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">unsorted_cyrillic &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;я&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;ж&quot;</span>)
stringr::<span class="kw">str_sort</span>(unsorted_cyrillic)</code></pre></div>
<pre><code>## [1] &quot;i&quot; &quot;ж&quot; &quot;я&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_sort</span>(unsorted_cyrillic, <span class="dt">locale =</span> <span class="st">&quot;ru_UA&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;ж&quot; &quot;я&quot; &quot;i&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_sort</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;&quot; NA</code></pre>
<p>Список локалей можно посмотреть командой <code>stringi::stri_locale_list()</code>. Еще полезные команды: <code>stringi::stri_locale_info</code> и <code>stringi::stri_locale_set</code>.</p>
<p>Не углубляясь в алгоритмы сортировки, отмечу, что алгоритм по-умолчанию хуже работает с большими данными:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
huge &lt;-<span class="st"> </span><span class="kw">sample</span>(letters, <span class="fl">1e7</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(huge)</code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;h&quot; &quot;v&quot; &quot;q&quot; &quot;n&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(
  <span class="kw">sort</span>(huge)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##   5.432   0.044   5.518</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(
  <span class="kw">sort</span>(huge, <span class="dt">method =</span> <span class="st">&quot;radix&quot;</span>)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##   0.544   0.033   0.584</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(
  stringr::<span class="kw">str_sort</span>(huge)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##  10.261   0.076  10.352</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">huge_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(huge)
<span class="kw">system.time</span>(
  dplyr::<span class="kw">arrange</span>(<span class="dt">.data =</span> huge_df, huge)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##   5.714   0.014   5.735</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">huge_tbl &lt;-<span class="st"> </span>tibble::<span class="kw">data_frame</span>(huge)
<span class="kw">system.time</span>(
  dplyr::<span class="kw">arrange</span>(<span class="dt">.data =</span> huge_tbl, huge)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##   5.970   0.066   6.041</code></pre>
<p>Предварительный вывод: для больших данных – <code>sort(..., method = &quot;radix&quot;)</code>.</p>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>3.4 Соединение</h4>
<ul>
<li>одинаковое количество строк</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">greek_abc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Α&quot;</span>, <span class="st">&quot;Β&quot;</span>, <span class="st">&quot;Γ&quot;</span>, <span class="st">&quot;Δ&quot;</span>)
latin_abc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>)
<span class="kw">paste</span>(greek_abc, latin_abc)</code></pre></div>
<pre><code>## [1] &quot;Α A&quot; &quot;Β B&quot; &quot;Γ C&quot; &quot;Δ D&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste0</span>(greek_abc, latin_abc)</code></pre></div>
<pre><code>## [1] &quot;ΑA&quot; &quot;ΒB&quot; &quot;ΓC&quot; &quot;ΔD&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(greek_abc, latin_abc, <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α-A&quot; &quot;Β-B&quot; &quot;Γ-C&quot; &quot;Δ-D&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(greek_abc, <span class="st">&quot;Ы&quot;</span>) <span class="co"># если векторы разной длины</span></code></pre></div>
<pre><code>## [1] &quot;Α Ы&quot; &quot;Β Ы&quot; &quot;Γ Ы&quot; &quot;Δ Ы&quot;</code></pre>
<ul>
<li>… → одна строка</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(greek_abc, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α_Β_Γ_Δ&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(greek_abc, latin_abc, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α A_Β B_Γ C_Δ D&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(greek_abc, latin_abc, <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α-A_Β-B_Γ-C_Δ-D&quot;</code></pre>
<ul>
<li><code>stringr</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, latin_abc)</code></pre></div>
<pre><code>## [1] &quot;ΑA&quot; &quot;ΒB&quot; &quot;ΓC&quot; &quot;ΔD&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, latin_abc, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α A&quot; &quot;Β B&quot; &quot;Γ C&quot; &quot;Δ D&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, latin_abc, <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α-A&quot; &quot;Β-B&quot; &quot;Γ-C&quot; &quot;Δ-D&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α_Β_Γ_Δ&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, latin_abc, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;ΑA_ΒB_ΓC_ΔD&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(greek_abc, latin_abc, <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;Α-A_Β-B_Γ-C_Δ-D&quot;</code></pre>
<ul>
<li>глюки</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;NA&quot; &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_c</span>(<span class="kw">c</span>(<span class="ot">NULL</span>, <span class="ot">NA</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1] NA &quot;&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="---" class="section level4">
<h4>3.5 Поиск строки по подстроке</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;the quick&quot;</span>, <span class="st">&quot;brown&quot;</span>, <span class="st">&quot;fox&quot;</span>, <span class="st">&quot;jumps&quot;</span>, <span class="st">&quot;over&quot;</span>, <span class="st">&quot;jumps&quot;</span>, <span class="st">&quot;over&quot;</span>, <span class="st">&quot;the&quot;</span>, <span class="st">&quot;lazy&quot;</span>, <span class="st">&quot;dog&quot;</span>)
<span class="kw">grep</span>(<span class="st">&quot;the&quot;</span>, a)</code></pre></div>
<pre><code>## [1] 1 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;the&quot;</span>, a, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;the quick&quot; &quot;the&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;the&quot;</span>, a, <span class="dt">invert =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1]  2  3  4  5  6  7  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;the&quot;</span>, a, <span class="dt">invert =</span> <span class="ot">TRUE</span>, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;brown&quot; &quot;fox&quot;   &quot;jumps&quot; &quot;over&quot;  &quot;jumps&quot; &quot;over&quot;  &quot;lazy&quot;  &quot;dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grepl</span>(<span class="st">&quot;the&quot;</span>, a)</code></pre></div>
<pre><code>##  [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_which</span>(a, <span class="st">&quot;the&quot;</span>)</code></pre></div>
<pre><code>## [1] 1 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_subset</span>(a, <span class="st">&quot;the&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;the quick&quot; &quot;the&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_detect</span>(a, <span class="st">&quot;the&quot;</span>)</code></pre></div>
<pre><code>##  [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_view</span>(a, <span class="st">&quot;r&quot;</span>)</code></pre></div>
<div id="htmlwidget-1dbb7cc25100cc6f279a" style="width:960px;height:auto;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1dbb7cc25100cc6f279a">{"x":{"html":"<ul>\n  <li>the quick<\/li>\n  <li>b<span class='match'>r<\/span>own<\/li>\n  <li>fox<\/li>\n  <li>jumps<\/li>\n  <li>ove<span class='match'>r<\/span><\/li>\n  <li>jumps<\/li>\n  <li>ove<span class='match'>r<\/span><\/li>\n  <li>the<\/li>\n  <li>lazy<\/li>\n  <li>dog<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_locate</span>(a, <span class="st">&quot;r&quot;</span>)</code></pre></div>
<pre><code>##       start end
##  [1,]    NA  NA
##  [2,]     2   2
##  [3,]    NA  NA
##  [4,]    NA  NA
##  [5,]     4   4
##  [6,]    NA  NA
##  [7,]     4   4
##  [8,]    NA  NA
##  [9,]    NA  NA
## [10,]    NA  NA</code></pre>
<div class="parallax">

</div>
</div>
<div id="---" class="section level4">
<h4>3.6 Замена подстроки в строке</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;the quick brown fox&quot;</span>, <span class="st">&quot;jumps over the lazy dog&quot;</span>)
<span class="kw">sub</span>(<span class="st">&quot;o&quot;</span>, <span class="st">&quot;_&quot;</span>, b)</code></pre></div>
<pre><code>## [1] &quot;the quick br_wn fox&quot;     &quot;jumps _ver the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gsub</span>(<span class="st">&quot;o&quot;</span>, <span class="st">&quot;_&quot;</span>, b)</code></pre></div>
<pre><code>## [1] &quot;the quick br_wn f_x&quot;     &quot;jumps _ver the lazy d_g&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_replace</span>(b, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;the quick br_wn fox&quot;     &quot;jumps _ver the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_replace_all</span>(b, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;_&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;the quick br_wn f_x&quot;     &quot;jumps _ver the lazy d_g&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="---" class="section level4">
<h4>3.7 Разделение вектора по подстроке</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b</code></pre></div>
<pre><code>## [1] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">strsplit</span>(b, <span class="st">&quot; &quot;</span>)</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;the&quot;   &quot;quick&quot; &quot;brown&quot; &quot;fox&quot;  
## 
## [[2]]
## [1] &quot;jumps&quot; &quot;over&quot;  &quot;the&quot;   &quot;lazy&quot;  &quot;dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_split</span>(b, <span class="st">&quot; &quot;</span>)</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;the&quot;   &quot;quick&quot; &quot;brown&quot; &quot;fox&quot;  
## 
## [[2]]
## [1] &quot;jumps&quot; &quot;over&quot;  &quot;the&quot;   &quot;lazy&quot;  &quot;dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stringr::<span class="kw">str_split</span>(b, <span class="st">&quot; &quot;</span>, <span class="dt">simplify =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##      [,1]    [,2]    [,3]    [,4]   [,5] 
## [1,] &quot;the&quot;   &quot;quick&quot; &quot;brown&quot; &quot;fox&quot;  &quot;&quot;   
## [2,] &quot;jumps&quot; &quot;over&quot;  &quot;the&quot;   &quot;lazy&quot; &quot;dog&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div id="---" class="section level4">
<h4>3.8 Выделение подстроки по номеру</h4>
<div class="parallax">

</div>
</div>
</div>
<div id="--" class="section level3">
<h3>4. Операции над векторами</h3>
<p>Векторы не мноежества, но операции на них действуют те же:</p>
<ul>
<li>Объединение</li>
<li>Пересечение</li>
<li>Разность</li>
<li>Сравнение</li>
<li>Подмножество?</li>
</ul>
<div class="parallax">

</div>
<div class="section level4">
<h4>4.1 Объединение</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a; b</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;     
##  [6] &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;       &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<pre><code>## [1] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(a, b)</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot;               &quot;brown&quot;                  
##  [3] &quot;fox&quot;                     &quot;jumps&quot;                  
##  [5] &quot;over&quot;                    &quot;jumps&quot;                  
##  [7] &quot;over&quot;                    &quot;the&quot;                    
##  [9] &quot;lazy&quot;                    &quot;dog&quot;                    
## [11] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unique</span>(<span class="kw">c</span>(a, b))</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot;               &quot;brown&quot;                  
##  [3] &quot;fox&quot;                     &quot;jumps&quot;                  
##  [5] &quot;over&quot;                    &quot;the&quot;                    
##  [7] &quot;lazy&quot;                    &quot;dog&quot;                    
##  [9] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">union</span>(a, b)</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot;               &quot;brown&quot;                  
##  [3] &quot;fox&quot;                     &quot;jumps&quot;                  
##  [5] &quot;over&quot;                    &quot;the&quot;                    
##  [7] &quot;lazy&quot;                    &quot;dog&quot;                    
##  [9] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>4.2 Пересечение</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a; b</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;     
##  [6] &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;       &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<pre><code>## [1] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">intersect</span>(a, b)</code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>4.3 Разность</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a; b</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;     
##  [6] &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;       &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<pre><code>## [1] &quot;the quick brown fox&quot;     &quot;jumps over the lazy dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setdiff</span>(a, b)</code></pre></div>
<pre><code>## [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;      
## [7] &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>4.4 Сравнение</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;brown&quot;</span>, <span class="st">&quot;fox&quot;</span>, <span class="st">&quot;jumps&quot;</span>, <span class="st">&quot;over&quot;</span>, <span class="st">&quot;the quick&quot;</span>)
a; c</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;     
##  [6] &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;       &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<pre><code>## [1] &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;      &quot;the quick&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setequal</span>(c, a)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">identical</span>(c, a)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="parallax">

</div>
</div>
<div class="section level4">
<h4>4.5 Подмножество?</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a</code></pre></div>
<pre><code>##  [1] &quot;the quick&quot; &quot;brown&quot;     &quot;fox&quot;       &quot;jumps&quot;     &quot;over&quot;     
##  [6] &quot;jumps&quot;     &quot;over&quot;      &quot;the&quot;       &quot;lazy&quot;      &quot;dog&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.element</span>(<span class="st">&quot;over&quot;</span>, a)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.element</span>(<span class="st">&quot;the dog&quot;</span>, a)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.element</span>(<span class="kw">c</span>(<span class="st">&quot;over&quot;</span>, <span class="st">&quot;the dog&quot;</span>), a)</code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="st">&quot;over&quot;</span>, <span class="st">&quot;the dog&quot;</span>) %in%<span class="st"> </span>a</code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<div class="parallax">

</div>
</div>
</div>
<div id="-" class="section level3">
<h3>5. Регулярные выражения</h3>
<div class="parallax">

</div>
</div>
<div class="section level3">
<h3>6. Задачи</h3>
<div id="-" class="section level4">
<h4>6.1 Чет-нечет</h4>
<p>Напишите функцию <code>is.odd()</code>, которая возвращает значение <code>TRUE</code>, если число символов в строке нечетно, <code>FALSE</code>, если число символов в строке четно.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.odd</span>(<span class="kw">c</span>(<span class="st">&quot;odd&quot;</span>, <span class="st">&quot;even&quot;</span>, <span class="st">&quot;&quot;</span>))</code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
</div>
<div id="-" class="section level4">
<h4>6.2 Лишние пробелы</h4>
<p>Напишите функцию <code>spaceless()</code>, которая убирает лишние пробелы.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">spaceless</span>(<span class="kw">c</span>(<span class="st">&quot;two  spaces&quot;</span>, <span class="st">&quot;five     spaces&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;two spaces&quot;  &quot;five spaces&quot;</code></pre>
</div>
<div id="-----" class="section level4">
<h4>6.3 Искусственные данные по средней продолжительности сна</h4>
<p><a href="https://goo.gl/dpCSV2">В данных по продолжительности сна</a> (1.1_sleep_hours.csv)<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> две переменных: код испытуемого и среднее время сна. Попробуйте сделать следующий график:</p>
<p><img src="1_strings_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="-" class="section level4">
<h4>6.4 Алфавитный порядок</h4>
<p>Как было сказано выше, “алфавитный” порядок разный в разных локалях. Напишите функцию <code>ordering_in_locales</code>, которая на вход принимает два символа, а возвращает таблицу с информацией о том, в скольких локалях порядок соответствует поданному в функцию, а в скольких порядок обратный:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ordering_in_locales</span>(<span class="st">&quot;i&quot;</span>, <span class="st">&quot;и&quot;</span>)</code></pre></div>
<pre><code>## 
## i_и и_i 
## 425 217</code></pre>
<div class="parallax">

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Данная картинка – изображение из книжки Яна Экхольма “Тутта Карлссон, первая и единственная, Людвиг Четырнадцатый и другие”<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Если у Вас не получается считать файл, попробуйте добавлять разные аргументы к <code>read.csv</code>: <code>encoding=&quot;UTF-8&quot;</code> или <code>fileEncoding = &quot;UTF-8&quot;</code>… Я надеюсь, поможет…<a href="#fnref2">↩</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
